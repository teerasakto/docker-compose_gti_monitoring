{"version":3,"sources":["../../src/filters/all.js"],"names":["angular","_","module","filter","items","tag","filtered","forEach","item","indexOf","tags","push","time","duration","Date","getTime","secs","Math","floor","mins","hours","days"],"mappings":";;;;;;;;;AAAOA,a;;AACAC,O;;;;AAEPD,cAAQE,MAAR,CAAe,oBAAf,EAAqCC,MAArC,CAA4C,aAA5C,EAA2D,YAAW;AACpE,eAAO,UAASC,KAAT,EAAgBC,GAAhB,EAAqB;AAC1B,cAAIC,WAAW,EAAf;AACA,cAAI,CAACD,GAAL,EAAU;AACR,mBAAOD,KAAP;AACD;AACDH,YAAEM,OAAF,CAAWH,SAAS,EAApB,EAAyB,UAASI,IAAT,EAAe;AACtC,gBAAIP,EAAEQ,OAAF,CAAUD,KAAKE,IAAf,EAAqBL,GAArB,KAA6B,CAAjC,EAAoC;AAClCC,uBAASK,IAAT,CAAcH,IAAd;AACD;AACF,WAJD;AAKA,iBAAOF,QAAP;AACD,SAXD;AAYD,OAbD;;AAeAN,cAAQE,MAAR,CAAe,oBAAf,EAAqCC,MAArC,CAA4C,cAA5C,EAA4D,YAAW;AACrE,eAAO,UAASS,IAAT,EAAe;AACpB,cAAIC,WAAW,IAAIC,IAAJ,GAAWC,OAAX,KAAuB,IAAID,IAAJ,CAASF,IAAT,EAAeG,OAAf,EAAtC;AACA,cAAIF,WAAW,KAAf,EAAsB;AACpB,mBAAO,mBAAP;AACD;AACD,cAAIA,WAAW,KAAf,EAAsB;AACpB,gBAAIG,OAAOC,KAAKC,KAAL,CAAWL,WAAS,IAApB,CAAX;AACA,mBAAO,SAASG,IAAT,GAAgB,UAAvB;AACD;AACD,cAAIH,WAAW,OAAf,EAAwB;AACtB,gBAAIM,OAAOF,KAAKC,KAAL,CAAWL,WAAS,IAAT,GAAc,EAAzB,CAAX;AACA,mBAAO,SAASM,IAAT,GAAgB,UAAvB;AACD;AACD,cAAIN,WAAW,QAAf,EAAyB;AACvB,gBAAIO,QAAQH,KAAKC,KAAL,CAAWL,WAAS,IAAT,GAAc,EAAd,GAAiB,EAA5B,CAAZ;AACA,mBAAO,SAASO,KAAT,GAAiB,QAAxB;AACD;AACD,cAAIC,OAAOJ,KAAKC,KAAL,CAAWL,WAAS,IAAT,GAAc,EAAd,GAAiB,EAAjB,GAAoB,EAA/B,CAAX;AACA,iBAAO,SAASQ,IAAT,GAAgB,OAAvB;AACD,SAnBD;AAoBD,OArBD","file":"all.js","sourcesContent":["import angular from 'angular';\nimport _ from 'lodash';\n\nangular.module('grafana.directives').filter('filterByTag', function() {\n  return function(items, tag) {\n    var filtered = [];\n    if (!tag) {\n      return items;\n    }\n    _.forEach((items || []), function(item) {\n      if (_.indexOf(item.tags, tag) >= 0) {\n        filtered.push(item);\n      }\n    });\n    return filtered;\n  };\n});\n\nangular.module('grafana.directives').filter('timeDuration', function() {\n  return function(time) {\n    var duration = new Date().getTime() - new Date(time).getTime();\n    if (duration < 10000) {\n      return \"a few seconds ago\";\n    }\n    if (duration < 60000) {\n      var secs = Math.floor(duration/1000);\n      return \"for \" + secs + \" seconds\";\n    }\n    if (duration < 3600000) {\n      var mins = Math.floor(duration/1000/60);\n      return \"for \" + mins + \" minutes\";\n    }\n    if (duration < 86400000) {\n      var hours = Math.floor(duration/1000/60/60);\n      return \"for \" + hours + \" hours\";\n    }\n    var days = Math.floor(duration/1000/60/60/24);\n    return \"for \" + days + \" days\";\n  };\n});\n"]}